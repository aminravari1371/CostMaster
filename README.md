# اپلیکیشن بهای تمام شده و انبارداری (CostMaster)

یک اپلیکیشن کامل اندرویدی برای مدیریت بهای تمام شده محصولات و انبارداری مواد اولیه.

## امکانات

### ۱. مدیریت مواد اولیه (انبار)
- افزودن مواد اولیه با نام، واحد، قیمت خرید و موجودی
- نمایش موجودی فعلی و هشدار در صورت کم بودن موجودی
- افزودن موجودی جدید (خرید مجدد) با قیمت جدید
- محاسبه خودکار میانگین قیمت خرید

### ۲. مدیریت محصولات
- افزودن محصولات با نام و قیمت فروش
- تعریف فرمول ساخت برای هر محصول
- تعیین مواد اولیه مورد نیاز برای هر واحد محصول
- تعیین سربار برای هر واحد محصول
- محاسبه خودکار بهای تمام شده تخمینی

### ۳. مدیریت تولید
- ثبت تولید جدید با انتخاب محصول و تعداد
- بررسی خودکار موجودی مواد اولیه
- کسر مواد از انبار هنگام تولید
- افزودن محصولات ساخته شده به انبار محصولات
- محاسبه دقیق بهای تمام شده هر واحد

### ۴. مدیریت فروش
- ثبت فروش با انتخاب محصول، تعداد و قیمت فروش
- بررسی موجودی قبل از فروش
- کسر موجودی محصول از انبار
- محاسبه سود ناخالص برای هر فروش

### ۵. گزارشات و داشبورد
- خلاصه وضعیت (ارزش انبار، مجموع فروش، سود کل)
- لیست مواد اولیه کم موجود
- موجودی محصولات
- فروش‌های اخیر

## ساختار پروژه

```
CostMaster/
├── app/
│   ├── build.gradle.kts          # تنظیمات ماژول اپلیکیشن
│   ├── proguard-rules.pro        # قوانین ProGuard
│   └── src/main/
│       ├── AndroidManifest.xml   # مانیفست اپلیکیشن
│       ├── java/com/costmaster/app/
│       │   ├── CostMasterApp.kt  # کلاس Application
│       │   ├── MainActivity.kt   # اکتیویتی اصلی
│       │   ├── data/             # لایه داده
│       │   │   ├── local/        # پایگاه داده Room
│       │   │   ├── mapper/       # تبدیل‌های داده
│       │   │   └── repository/   # پیاده‌سازی مخزن‌ها
│       │   ├── di/               # تزریق وابستگی Hilt
│       │   ├── domain/           # لایه دامنه
│       │   │   ├── model/        # مدل‌های داده
│       │   │   ├── repository/   # اینترفیس مخزن‌ها
│       │   │   └── usecase/      # موارد استفاده
│       │   └── ui/               # لایه نمایش
│       │       ├── navigation/   # ناوبری
│       │       ├── screens/      # صفحات
│       │       └── theme/        # تم و استایل
│       └── res/                  # منابع
│           ├── values/           # رشته‌ها، رنگ‌ها، تم
│           └── xml/              # فایل‌های پیکربندی
├── build.gradle.kts              # تنظیمات پروژه اصلی
├── settings.gradle.kts           # تنظیمات ماژول‌ها
├── gradle.properties             # خصوصیات Gradle
├── gradlew                       # اسکریپت اجرای Gradle (لینوکس/مک)
├── gradlew.bat                   # اسکریپت اجرای Gradle (ویندوز)
└── README.md                     # این فایل
```

## راهنمای نصب و اجرا

### پیش‌نیازها

۱. **Android Studio** نسخه 2022.1 یا بالاتر
۲. **JDK 17** یا بالاتر
۳. **Gradle 8.2** یا بالاتر

### مراحل ساخت APK

۱. پروژه را در Android Studio باز کنید:
   - File → Open
   - پوشه `CostMaster` را انتخاب کنید

۲. صبر کنید تا Gradle同步 شود (ممکن است چند دقیقه طول بکشد)

۳. برای ساخت APK نسخه debug:
   - Build → Build Bundle(s) / APK(s) → Build APK(s)

۴. فایل APK در مسیر زیر قرار می‌گیرد:
   ```
   app/build/outputs/apk/debug/app-debug.apk
   ```

### ساخت APK امضا شده (برای انتشار)

۱. به مسیر بروید:
   - Build → Generate Signed Bundle/APK...

۲. گزینه APK را انتخاب کنید

۳. یک keystore جدید ایجاد کنید یا از keystore موجود استفاده کنید

۴. تنظیمات signing را تکمیل کنید

۵. نوع build را روی release قرار دهید

۶. روی Finish کلیک کنید

## تکنولوژی‌های استفاده شده

- **زبان**: Kotlin
- **UI**: Jetpack Compose با Material Design 3
- **معماری**: Clean Architecture (MVVM)
- **پایگاه داده**: Room
- **تزریق وابستگی**: Hilt
- **ناوبری**: Navigation Compose
- **هماهنگی**: Coroutines و Flow

## نکات مهم

- این اپلیکیشن کاملاً آفلاین کار می‌کند و داده‌ها در پایگاه داده ذخیره می‌شوند
- تمام محاسبات مالی با دقت بالا (BigDecimal) انجام می‌شوند
- رابط کاربری کاملاً فارسی و راست‌چین است
- از سیستم هشدار برای موجودی کم استفاده می‌شود

## مجوز

این پروژه تحت مجوز MIT منتشر شده است.
